# ุงุณู ุงูุจุฑูุงูุฌ ุงูุฏุงุฎูู (ุจุฏูู ูุงุญูุฉ .app)
TARGET = BK

# ุงุณู ุชุทุจูู macOS (ูุน ุงููุงุญูุฉ .app)
APP_NAME = $(TARGET).app

# ูููุงุช ุงููุตุฏุฑ ุงูุฑุฆูุณูุฉ
SRC = src/main.cpp
SDL_DIR = sdl

# ุฅุนุฏุงุฏุงุช ุงูุชุฑุฌูุฉ ูุน SDL3
CXX = clang++
CXXFLAGS = -std=c++17 -I$(CURDIR)/include -I$(CURDIR)/$(SDL_DIR)/include -I/usr/local/include
LDFLAGS = -L/usr/local/lib -Wl,-rpath,/usr/local/lib -framework SDL3

# ุงููุฏู ุงูุฃุณุงุณู: ุจูุงุก .app ููุท
all:
	@echo "๐ง ุจูุงุก ุงูุชุทุจูู..."
	# ุจูุงุก ุงูุชุทุจูู ูุจุงุดุฑุฉ
	$(CXX) $(CXXFLAGS) -o $(SRC) $(LDFLAGS)

# ุชุดุบูู ุงูุชุทุจูู
run: all
	open "debug/$(APP_NAME)"

# ุชูุธูู ุงูุชุทุจูู ุจุงููุงูู
clean: clean-app clean-build
	@echo "๐งน ุชู ุชูุธูู ุงูุชุทุจูู ุจุงููุงูู."

# ุชูุธูู ูุฌูุฏ ุงูุชุทุจูู ููุท
clean-app:
	rm -rf "build"
	@echo "๐งน ุชู ุญุฐู ุงูุชุทุจูู ููุท."

# ุชูุธูู ูุฌูุฏ ุงูุจูุงุก ุงููุคูุช
clean-build:
	rm -rf "build"
	@echo "๐งน ุชู ุญุฐู ูุฌูุฏ ุงูุจูุงุก ุงููุคูุช."

# ูุฏู ุชูุธูู ุฌููุน ุงููููุงุช ูุฅุนุงุฏุฉ ุฅูุดุงุก ุงููุฌูุฏ
cleanall:
	@echo "ุชูุธูู ูุฌูุฏ ุงูุจูุงุก ูุฅุนุงุฏุฉ ุฅูุดุงุฆู..."
	rm -rf "build" # ุญุฐู ูุฌูุฏ ุงูุจูุงุก
	mkdir -p "build" # ุฅุนุงุฏุฉ ุฅูุดุงุก ุงููุฌูุฏ
	@echo "โ ุชู ุฅุนุงุฏุฉ ุฅูุดุงุก ูุฌูุฏ ุงูุจูุงุก."
